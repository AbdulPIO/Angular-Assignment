<div class="home-container">
  <div class="card">
    <div class="card-header">
      <h2>Exam List</h2>
      <div class="search-box">
        <input
          class="search-input"
          type="text"
          [(ngModel)]="searchTerm"
          (keyup)="applyFilterandPagination()"
          placeholder="Search exams..."
        />
      </div>
    </div>

    <div class="table-container">
      <table>
        <thead>
          <tr>
            <th (click)="onSort('examName')">
              Exam Name
              <svg
                xmlns="http://www.w3.org/2000/svg"
                height="20px"
                viewBox="0 -960 960 960"
                width="20px"
                fill="#5c6bc0"
                id="sort"
              >
                <path
                  d="M324-432v-294L219-621l-51-51 192-192 192 192-51 51-105-105v294h-72ZM600-96 408-288l51-51 105 105v-294h72v294l105-105 51 51L600-96Z"
                />
              </svg>
              {{
                sortColumn === "examName"
                  ? sortDirection === "asc"
                    ? ""
                    : ""
                  : ""
              }}
            </th>
            <th>Exam Key</th>
            <th>Phone</th>
            <th>Hours</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let exam of filteredExams">
            <td>{{ exam.examName }}</td>
            <td>{{ exam.examKey }}</td>
            <td>{{ exam.phone }}</td>
            <td>{{ exam.examHours }}</td>
            <td class="actions">
              <button
                type="button"
                class="btn secondary"
                (click)="onEdit(exam)"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  height="20px"
                  viewBox="0 -960 960 960"
                  width="20px"
                  fill="#FFFFFF"
                >
                  <path
                    d="M192-396v-72h288v72H192Zm0-150v-72h432v72H192Zm0-150v-72h432v72H192Zm336 504v-113l210-209q7.26-7.41 16.13-10.71Q763-528 771.76-528q9.55 0 18.31 3.5Q798.83-521 806-514l44 45q6.59 7.26 10.29 16.13Q864-444 864-435.24t-3.29 17.92q-3.3 9.15-10.71 16.32L641-192H528Zm288-243-45-45 45 45ZM576-240h45l115-115-22-23-22-22-116 115v45Zm138-138-22-22 44 45-22-23Z"
                  />
                </svg>
              </button>
              <button type="button" class="btn danger" (click)="onDelete(exam)">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  height="20px"
                  viewBox="0 -960 960 960"
                  width="20px"
                  fill="#FFFFFF"
                >
                  <path
                    d="m400-325 80-80 80 80 51-51-80-80 80-80-51-51-80 80-80-80-51 51 80 80-80 80 51 51Zm-88 181q-29.7 0-50.85-21.15Q240-186.3 240-216v-480h-48v-72h192v-48h192v48h192v72h-48v479.57Q720-186 698.85-165T648-144H312Zm336-552H312v480h336v-480Zm-336 0v480-480Z"
                  />
                </svg>
              </button>
            </td>
          </tr>
          <tr *ngIf="filteredExams.length === 0">
            <td colspan="5" class="no-data">No exams found</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Reusable Pagination Component -->
    <app-pagination
      [currentPage]="currentPage"
      [totalPages]="totalPages"
      (pageChange)="onPageChange($event)"
    ></app-pagination>
  </div>
</div>
